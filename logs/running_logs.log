[2024-06-17 21:32:12,198 : INFO : main : Mlflow is easy]
[2024-06-17 22:15:14,199 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-17 22:15:14,203 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-17 22:15:14,205 : INFO : common : created directory at: artifacts]
[2024-06-17 22:15:14,294 : INFO : common : created directory at: artifacts/data_ingestion]
[2024-06-17 22:15:14,298 : INFO : 1983665874 : Downloading data from https://drive.google.com/file/d/1z0mreUtRmR-P-magILsDR3T7M6IkGXtY/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-17 22:17:13,648 : INFO : 1983665874 : Downloaded data from https://drive.google.com/file/d/1z0mreUtRmR-P-magILsDR3T7M6IkGXtY/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-19 17:16:26,973 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-19 17:16:26,994 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-19 17:16:26,996 : INFO : common : created directory at: artifacts]
[2024-06-19 17:16:26,998 : INFO : common : created directory at: artifacts/prepare_base_model]
[2024-06-19 17:16:27,941 : WARNING : saving_utils : Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-06-19 17:30:10,856 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-19 17:30:10,883 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-19 17:30:10,885 : INFO : common : created directory at: artifacts]
[2024-06-19 17:30:10,886 : INFO : common : created directory at: artifacts\training]
[2024-06-20 09:58:29,591 : INFO : main : >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-06-20 09:58:29,615 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 09:58:29,634 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 09:58:29,634 : INFO : common : created directory at: artifacts]
[2024-06-20 09:58:29,635 : INFO : common : created directory at: artifacts/data_ingestion]
[2024-06-20 09:58:29,637 : INFO : data_ingestion : Downloading data from https://drive.google.com/file/d/1z0mreUtRmR-P-magILsDR3T7M6IkGXtY/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-20 09:59:03,795 : INFO : data_ingestion : Downloaded data from https://drive.google.com/file/d/1z0mreUtRmR-P-magILsDR3T7M6IkGXtY/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-20 09:59:04,949 : INFO : main : >>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2024-06-20 09:59:04,949 : INFO : main : *******************]
[2024-06-20 09:59:04,950 : INFO : main : >>>>>> stage Prepare base model started <<<<<<]
[2024-06-20 09:59:04,954 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 09:59:04,956 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 09:59:04,956 : INFO : common : created directory at: artifacts]
[2024-06-20 09:59:04,957 : INFO : common : created directory at: artifacts/prepare_base_model]
[2024-06-20 09:59:05,911 : WARNING : saving_utils : Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-06-20 09:59:06,565 : INFO : main : >>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2024-06-20 09:59:06,565 : INFO : main : *******************]
[2024-06-20 09:59:06,567 : INFO : main : >>>>>> stage Training started <<<<<<]
[2024-06-20 09:59:06,571 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 09:59:06,573 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 09:59:06,573 : INFO : common : created directory at: artifacts]
[2024-06-20 09:59:06,574 : ERROR : main : name 'os' is not defined]
Traceback (most recent call last):
  File "main.py", line 38, in <module>
    model_trainer.main()
  File "d:\pythonprojects\mlops2\src\flowML\pipeline\stage_3_model_trainer.py", line 19, in main
    raise e
  File "d:\pythonprojects\mlops2\src\flowML\pipeline\stage_3_model_trainer.py", line 13, in main
    training_config = config.get_training_config()
  File "d:\pythonprojects\mlops2\src\flowML\config\configuration.py", line 49, in get_training_config
    training_data = os.path.join(self.config.data_ingestion.unzip_dir, "Chest-CT-Scan-data")
NameError: name 'os' is not defined
[2024-06-20 10:01:13,055 : INFO : main : >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-06-20 10:01:13,058 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 10:01:13,064 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 10:01:13,066 : INFO : common : created directory at: artifacts]
[2024-06-20 10:01:13,066 : INFO : common : created directory at: artifacts/data_ingestion]
[2024-06-20 10:01:13,068 : INFO : data_ingestion : Downloading data from https://drive.google.com/file/d/1z0mreUtRmR-P-magILsDR3T7M6IkGXtY/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-20 10:01:41,585 : INFO : data_ingestion : Downloaded data from https://drive.google.com/file/d/1z0mreUtRmR-P-magILsDR3T7M6IkGXtY/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-20 10:01:42,020 : INFO : main : >>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2024-06-20 10:01:42,020 : INFO : main : *******************]
[2024-06-20 10:01:42,022 : INFO : main : >>>>>> stage Prepare base model started <<<<<<]
[2024-06-20 10:01:42,031 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 10:01:42,035 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 10:01:42,038 : INFO : common : created directory at: artifacts]
[2024-06-20 10:01:42,039 : INFO : common : created directory at: artifacts/prepare_base_model]
[2024-06-20 10:01:42,425 : WARNING : saving_utils : Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-06-20 10:01:43,143 : INFO : main : >>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2024-06-20 10:01:43,144 : INFO : main : *******************]
[2024-06-20 10:01:43,145 : INFO : main : >>>>>> stage Training started <<<<<<]
[2024-06-20 10:01:43,148 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 10:01:43,150 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 10:01:43,151 : INFO : common : created directory at: artifacts]
[2024-06-20 10:01:43,151 : INFO : common : created directory at: artifacts\training]
[2024-06-20 10:02:27,787 : INFO : main : >>>>>> stage Training completed <<<<<<

x==========x]
[2024-06-20 10:07:05,872 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 10:07:05,875 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 10:07:05,877 : INFO : common : created directory at: artifacts]
[2024-06-20 10:07:19,885 : INFO : common : json file saved at: scores.json]
[2024-06-20 10:07:22,621 : INFO : builder_impl : Assets written to: C:\Users\nagas\AppData\Local\Temp\tmplt2uxe22\model\data\model\assets]
[2024-06-20 10:07:32,149 : INFO : dir_util : creating D:\PythonProjects\mlops2\mlruns\0\af250c792f124529a4afa60c747d561e\artifacts\model\data]
[2024-06-20 10:07:32,153 : INFO : dir_util : creating D:\PythonProjects\mlops2\mlruns\0\af250c792f124529a4afa60c747d561e\artifacts\model\data\model]
[2024-06-20 10:07:32,155 : INFO : dir_util : creating D:\PythonProjects\mlops2\mlruns\0\af250c792f124529a4afa60c747d561e\artifacts\model\data\model\assets]
[2024-06-20 10:07:32,159 : INFO : dir_util : creating D:\PythonProjects\mlops2\mlruns\0\af250c792f124529a4afa60c747d561e\artifacts\model\data\model\variables]
[2024-06-20 10:11:26,208 : INFO : common : yaml file: config\config.yaml loaded successfully]
[2024-06-20 10:11:26,211 : INFO : common : yaml file: params.yaml loaded successfully]
[2024-06-20 10:11:26,213 : INFO : common : created directory at: artifacts]
[2024-06-20 10:11:41,780 : INFO : common : json file saved at: scores.json]
[2024-06-20 10:11:43,163 : INFO : helpers : Initialized MLflow to track repo "nagarajRPoojari/ML-ops"]
[2024-06-20 10:11:43,166 : INFO : helpers : Repository nagarajRPoojari/ML-ops initialized!]
[2024-06-20 10:11:47,308 : INFO : builder_impl : Assets written to: C:\Users\nagas\AppData\Local\Temp\tmpri5deqgx\model\data\model\assets]
[2024-06-20 11:10:33,554 : INFO : _internal : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.218.64:8080]
[2024-06-20 11:10:33,555 : INFO : _internal : [33mPress CTRL+C to quit[0m]
[2024-06-20 11:11:04,456 : INFO : _internal : 127.0.0.1 - - [20/Jun/2024 11:11:04] "GET / HTTP/1.1" 200 -]
[2024-06-20 11:11:34,699 : ERROR : app : Exception on /predict [POST]]
Traceback (most recent call last):
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\flask_cors\extension.py", line 178, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\flask_cors\decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 46, in predictRoute
    result = clApp.classifier.predict()
  File "d:\pythonprojects\mlops2\src\flowML\pipeline\prediction.py", line 18, in predict
    model = load_model(os.path.join("model", "model.h5"))
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\tensorflow\python\keras\saving\save.py", line 206, in load_model
    return saved_model_load.load(filepath, compile, options)
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\tensorflow\python\keras\saving\saved_model\load.py", line 121, in load
    meta_graph_def = loader_impl.parse_saved_model(path).meta_graphs[0]
  File "C:\Users\nagas\miniconda3\envs\tf2.5\lib\site-packages\tensorflow\python\saved_model\loader_impl.py", line 113, in parse_saved_model
    raise IOError(
OSError: SavedModel file does not exist at: model\model.h5\{saved_model.pbtxt|saved_model.pb}
[2024-06-20 11:11:34,774 : INFO : _internal : 127.0.0.1 - - [20/Jun/2024 11:11:34] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2024-06-20 11:12:26,863 : INFO : _internal : 127.0.0.1 - - [20/Jun/2024 11:12:26] "GET / HTTP/1.1" 200 -]
[2024-06-20 11:13:14,635 : INFO : _internal : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.218.64:8080]
[2024-06-20 11:13:14,636 : INFO : _internal : [33mPress CTRL+C to quit[0m]
[2024-06-20 11:13:16,602 : INFO : _internal : 127.0.0.1 - - [20/Jun/2024 11:13:16] "GET / HTTP/1.1" 200 -]
[2024-06-20 11:13:25,368 : INFO : _internal : 127.0.0.1 - - [20/Jun/2024 11:13:25] "POST /predict HTTP/1.1" 200 -]
[2024-06-20 11:14:56,498 : INFO : _internal : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.218.64:8080]
[2024-06-20 11:14:56,499 : INFO : _internal : [33mPress CTRL+C to quit[0m]
[2024-06-20 11:15:01,159 : INFO : _internal : 127.0.0.1 - - [20/Jun/2024 11:15:01] "GET / HTTP/1.1" 200 -]
[2024-06-20 11:15:06,957 : INFO : _internal : 127.0.0.1 - - [20/Jun/2024 11:15:06] "POST /predict HTTP/1.1" 200 -]
[2024-06-22 18:08:05,006 : INFO : _internal : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.202.64:8080]
[2024-06-22 18:08:05,038 : INFO : _internal : [33mPress CTRL+C to quit[0m]
[2024-06-22 18:08:39,437 : INFO : _internal : 192.168.202.64 - - [22/Jun/2024 18:08:39] "GET / HTTP/1.1" 200 -]
[2024-06-22 18:08:49,502 : INFO : _internal : 192.168.202.64 - - [22/Jun/2024 18:08:49] "POST /predict HTTP/1.1" 200 -]
